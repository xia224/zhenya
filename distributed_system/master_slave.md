# 介绍各种主从分布式架构

## 分布式数据首要考虑的是一致性
一致性: 在多机备份（repliaction）的场景下，数据节点之间复制数据，数据系统（数据库）能够在一定的条件下读取相同的数据。

## 主从结构
* 一主多从
master负责处理写入请求，然后同步或异步地向其余slave节点发送更新消息，数据可以从各个节点读取。
异常case：
    如果主节点发生失败，整个集群就不可用，虽然可以通过从节点变成主节点来实现，但是可能会发生脑裂，即集群中出现多个节点都认为自己是leader，依然可能破坏共识而造成不一致。

* 多主结构
多个master都可以处理写入请求

* 无主结构
没有master， 各节点是对等的。

## 衍生的一致性问题
1. 强一致性
2. 最终一致性
3. 共识
4. 多数裁决的方式达到集群裁决的一致性
5. 脑裂  --- 周期序列号
6. Raft一致性协议原理
    raft选主
    日志复制
    领导人的变更
    集群成员变化
7. 任期（term）
